"use strict";(self.webpackChunkcipher_cell_wiki=self.webpackChunkcipher_cell_wiki||[]).push([[700],{6419:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"srs-ran_docker/run_demo","title":"Execute Demo","description":"After compiling the demo, you can start the components either manually or automatically using our provided script.","source":"@site/docs/srs-ran_docker/run_demo.md","sourceDirName":"srs-ran_docker","slug":"/srs-ran_docker/run_demo","permalink":"/CipherCellWiki/docs/srs-ran_docker/run_demo","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/srs-ran_docker/run_demo.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"run_demo","title":"Execute Demo","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/CipherCellWiki/docs/srs-ran_docker/installation"}}');var s=t(4848),i=t(8453);const a={id:"run_demo",title:"Execute Demo",sidebar_position:5},c=void 0,o={},l=[{value:"Start the Demo Automatically",id:"start-the-demo-automatically",level:3},{value:"Manually Start the Demo",id:"manually-start-the-demo",level:3},{value:"1. O-RAN Near-Real-Time RIC",id:"1-o-ran-near-real-time-ric",level:5},{value:"2. 5G Core Network",id:"2-5g-core-network",level:5},{value:"3. Start the gNB",id:"3-start-the-gnb",level:5},{value:"4. Start the User Equipment (UE)",id:"4-start-the-user-equipment-ue",level:5},{value:"5. Start an xApp",id:"5-start-an-xapp",level:5},{value:"6. Generate Sample Traffic",id:"6-generate-sample-traffic",level:5}];function d(e){const n={code:"code",h3:"h3",h5:"h5",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["After compiling the demo, you can start the components either ",(0,s.jsx)(n.strong,{children:"manually"})," or ",(0,s.jsx)(n.strong,{children:"automatically"})," using our provided script."]}),"\n",(0,s.jsx)(n.h3,{id:"start-the-demo-automatically",children:"Start the Demo Automatically"}),"\n",(0,s.jsx)(n.p,{children:"You can launch the entire demo with a single command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd srsRAN_test_environment/scripts\n./run_all.sh\n"})}),"\n",(0,s.jsx)(n.p,{children:"This script sets up a tmux environment with five terminals, each starting one of the core services:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Near-Real-Time RIC"}),"\n",(0,s.jsx)(n.li,{children:"5G Core Network"}),"\n",(0,s.jsx)(n.li,{children:"gNB"}),"\n",(0,s.jsx)(n.li,{children:"User Equipment (UE)"}),"\n",(0,s.jsx)(n.li,{children:"Sample xApp"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Next, we explain how to start the services manually."}),"\n",(0,s.jsx)(n.h3,{id:"manually-start-the-demo",children:"Manually Start the Demo"}),"\n",(0,s.jsxs)(n.p,{children:["When starting the demo manually, you need ",(0,s.jsx)(n.strong,{children:"six separate terminal windows"}),", as shown in the figure below."]}),"\n",(0,s.jsx)(n.h5,{id:"1-o-ran-near-real-time-ric",children:"1. O-RAN Near-Real-Time RIC"}),"\n",(0,s.jsx)(n.p,{children:"Start the prebuilt Docker Compose setup:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd srsRAN_test_environment/oran-sc-ric\ndocker compose up\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The RIC is automatically started when ",(0,s.jsx)(n.code,{children:"ric_submgr              | RMR is ready now ..."})," is displayed."]}),"\n",(0,s.jsx)(n.h5,{id:"2-5g-core-network",children:"2. 5G Core Network"}),"\n",(0,s.jsx)(n.p,{children:"Start the 5G core network using:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd srsRAN_test_environment/docker\ndocker compose up --build 5gc\n"})}),"\n",(0,s.jsx)(n.p,{children:"The output should look similar to the following:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"open5gs_5gc  | 08/26 14:21:47.819: [app] INFO: Configuration: 'open5gs-5gc.yml' (../lib/app/ogs-init.c:130)\nopen5gs_5gc  | 08/26 14:21:47.821: [dbi] INFO: MongoDB URI: 'mongodb://127.0.0.1/open5gs' (../lib/dbi/ogs-mongoc.c:130)\nopen5gs_5gc  | 08/26 14:21:47.821: [sbi] INFO: NF Service [nudr-dr] (../lib/sbi/context.c:1812)\nopen5gs_5gc  | 08/26 14:21:47.821: [sbi] INFO: nghttp2_server() [http://127.0.0.20]:7777 (../lib/sbi/nghttp2-server.c:414)\nopen5gs_5gc  | 08/26 14:21:47.822: [app] INFO: UDR initialize...done (../src/udr/app.c:31)\nopen5gs_5gc  | 08/26 14:21:47.822: [nrf] INFO: [3c9e41fc-8277-41f0-84fb-2fbb3df1b2cd] NF registered [Heartbeat:10s] (../src/nrf/nf-sm.c:190)\nopen5gs_5gc  | 08/26 14:21:47.822: [sbi] INFO: (NRF-notify) NF registered [3c9e41fc-8277-41f0-84fb-2fbb3df1b2cd:1] (../lib/sbi/nnrf-handler.c:924)\nopen5gs_5gc  | 08/26 14:21:47.822: [sbi] INFO: [UDR] (NRF-notify) NF Profile updated [3c9e41fc-8277-41f0-84fb-2fbb3df1b2cd:1] (../lib/sbi/nnrf-handler.c:938)\nopen5gs_5gc  | 08/26 14:21:47.823: [sbi] INFO: (NRF-notify) NF registered [3c9e41fc-8277-41f0-84fb-2fbb3df1b2cd:1] (../lib/sbi/nnrf-handler.c:924)\nopen5gs_5gc  | 08/26 14:21:47.823: [sbi] INFO: [UDR] (NRF-notify) NF Profile updated [3c9e41fc-8277-41f0-84fb-2fbb3df1b2cd:1] (../lib/sbi/nnrf-handler.c:938)\nopen5gs_5gc  | 08/26 14:21:47.823: [sbi] INFO: [3c9e41fc-8277-41f0-84fb-2fbb3df1b2cd] NF registered [Heartbeat:10s] (../lib/sbi/nf-sm.c:221)\nopen5gs_5gc  | 08/26 14:21:47.823: [sbi] INFO: (NRF-notify) NF registered [3c9e41fc-8277-41f0-84fb-2fbb3df1b2cd:1] (../lib/sbi/nnrf-handler.c:924)\nopen5gs_5gc  | 08/26 14:21:47.823: [sbi] INFO: [UDR] (NRF-notify) NF Profile updated [3c9e41fc-8277-41f0-84fb-2fbb3df1b2cd:1] (../lib/sbi/nnrf-handler.c:938)\nopen5gs_5gc  | 08/26 14:21:47.823: [nrf] INFO: [3c9ea1f6-8277-41f0-b327-a1a9bf3b355a] Subscription created until 2025-08-27T14:21:47.823366+02:00 [validity_duration:86400] (../src/nrf/nnrf-handler.c:445)\nopen5gs_5gc  | 08/26 14:21:47.823: [sbi] INFO: [3c9ea1f6-8277-41f0-b327-a1a9bf3b355a] Subscription created until 2025-08-27T14:21:47.823366+02:00 [duration:86400,validity:86399.999870,patch:43199.999935] (../lib/sbi/nnrf-handler.c:708)\n"})}),"\n",(0,s.jsx)(n.h5,{id:"3-start-the-gnb",children:"3. Start the gNB"}),"\n",(0,s.jsx)(n.p,{children:"Run the gNB application:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd srsRAN_test_environment/srsRAN_Project/build/apps/gnb\nsudo ./gnb -c srsRAN_test_environment/oran-sc-ric/e2-agents/srsRAN/gnb_zmq.yaml\n"})}),"\n",(0,s.jsx)(n.p,{children:"You should see a successful connection to the Near-RT RIC and the 5G Core network via its AMF. The output should look similar to:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"--== srsRAN gNB (commit d90cd4e26d) ==--\n\nLower PHY in executor blocking mode.\nAvailable radio types: zmq.\nCell pci=1, bw=10 MHz, 1T1R, dl_arfcn=368500 (n3), dl_freq=1842.5 MHz, dl_ssb_arfcn=368410, ul_freq=1747.5 MHz\n\nN2: Connection to AMF on 10.53.1.2:38412 completed\nE2AP: Connection to Near-RT-RIC on 10.0.2.10:36421 completed\nE2AP: Connection to Near-RT-RIC on 10.0.2.10:36421 completed\nE2AP: Connection to Near-RT-RIC on 10.0.2.10:36421 completed\n==== gNB started ===\nType <h> to view help\n\n"})}),"\n",(0,s.jsx)(n.h5,{id:"4-start-the-user-equipment-ue",children:"4. Start the User Equipment (UE)"}),"\n",(0,s.jsx)(n.p,{children:"First, create the required network namespace:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo ip netns add ue1\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then start the UE:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd srsRAN_test_environment/srsRAN_4G/build/srsue/src\nsudo ./srsue srsRAN_test_environment/oran-sc-ric/e2-agents/srsRAN/ue_zmq.conf\n"})}),"\n",(0,s.jsx)(n.p,{children:"The output should indicate that the UE has successfully established a session with the 5G Core:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Active RF plugins: libsrsran_rf_zmq.so\nInactive RF plugins: \nReading configuration file ../../../../oran-sc-ric/e2-agents/srsRAN/ue_zmq.conf...\n\nBuilt in Release mode using commit ec29b0c1f on branch HEAD.\n\nOpening 1 channels in RF device=zmq with args=tx_port=tcp://127.0.0.1:2001,rx_port=tcp://127.0.0.1:2000,base_srate=11.52e6\nSupported RF device list: zmq file\nCHx base_srate=11.52e6\nCurrent sample rate is 1.92 MHz with a base rate of 11.52 MHz (x6 decimation)\nCH0 rx_port=tcp://127.0.0.1:2000\nCH0 tx_port=tcp://127.0.0.1:2001\nCurrent sample rate is 11.52 MHz with a base rate of 11.52 MHz (x1 decimation)\nCurrent sample rate is 11.52 MHz with a base rate of 11.52 MHz (x1 decimation)\nWaiting PHY to initialize ... done!\nAttaching UE...\nRandom Access Transmission: prach_occasion=0, preamble_index=0, ra-rnti=0x39, tti=174\nRandom Access Complete.     c-rnti=0x4601, ta=0\nRRC Connected\nPDU Session Establishment successful. IP: 10.45.1.2\nRRC NR reconfiguration successful.\n"})}),"\n",(0,s.jsx)(n.h5,{id:"5-start-an-xapp",children:"5. Start an xApp"}),"\n",(0,s.jsx)(n.p,{children:"Launch a simple xApp:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker compose exec python_xapp_runner ./simple_xapp.py\n"})}),"\n",(0,s.jsx)(n.p,{children:"In the Near-RT RIC terminal, you should see an indication that the xApp has started, for example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'ric_rtmgr_sim       | 2025/08/26 12:31:22 POST /ric/v1/handles/xapp-subscription-handle  body: {"address":"10.0.2.20","port":4560,"subscription_id":1} elapsed: 9.106\xb5s\n'})}),"\n",(0,s.jsx)(n.p,{children:"Meanwhile, the xApp itself monitors data traffic, as shown below:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"------------------------------------------------------------------\n\nData Monitoring:\n  E2SM_KPM RIC Indication Content:\n  -ColletStartTime:  2025-08-26 12:32:34\n  -Measurements Data:\n  --UE_id: 0\n  ---granulPeriod: 1000\n  ---Metric: DRB.RlcSduTransmittedVolumeDL, Value: 0.0 [MB]\n\nControl Logic:\n Tx Data Stats:\n  UE ID: 0, Max PRB Ratio: n/a, TXed Data [MB]: 0.0\n------------------------------------------------------------------\n"})}),"\n",(0,s.jsx)(n.h5,{id:"6-generate-sample-traffic",children:"6. Generate Sample Traffic"}),"\n",(0,s.jsx)(n.p,{children:"To generate traffic, run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo ip netns exec ue1 ping -s 60008 -i 0.1 10.45.1.1\n"})}),"\n",(0,s.jsx)(n.p,{children:"You should now see the traffic in the terminal where the xApp is running."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"image_overview",src:t(9046).A+""})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var r=t(6540);const s={},i=r.createContext(s);function a(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}},9046:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/terminal_output_ubuntu-f1a577eff6040427f2f05ca07fd7023c.pdf"}}]);